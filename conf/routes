# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~
# Request can come from
#
# Old web page /codecheck/files, /codecheck/check with type=plain
# New web page /files, POST /checkJsonp with type=jsonp
# Wiley Engage interactive element

# Home page
GET /    controllers.Default.redirect(to = "http://horstmann.com/codecheck/index.html")

# Health check
GET     /health                           controllers.Application.health()
POST    /echo                             controllers.Application.echo()

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.versioned(path="/public", file: Asset)

GET	    /files						controllers.Files.filesHTML(repo: String ?= "ext", problem: String, level: String ?= "1", ccu: String ?= null)
GET		/files/:problem				controllers.Files.filesHTML(repo: String ?= "ext", problem: String, level: String ?= "1", ccu: String ?= null)
GET		/files/:problem/:level		controllers.Files.filesHTML(repo: String ?= "ext", problem: String, level: String,        ccu: String ?= null)
POST    /checkNJS					controllers.Check.checkNJS()
# GET called from interactive element with jsonp result
GET     /checkNJS					controllers.Check.checkNJS()

# From Hien's project, but this is potentially useful for others 
GET     /fileData                   controllers.Files.fileData(repo: String ?= "ext", problem: String, level: String ?= "1", ccu: String ?= null)

# Classic HTML--is anyone still using it?
POST	/check						controllers.Check.checkHTML()

POST    /uploadProblem              controllers.Upload.uploadProblem(newProblem : Boolean ?= true)
POST    /uploadFiles                controllers.Upload.uploadFiles(newProblem : Boolean ?= true)
POST    /editProblem                controllers.Upload.editProblem()
POST    /editedFiles                controllers.Upload.uploadFiles(newProblem : Boolean ?= false)
POST    /editedProblem              controllers.Upload.uploadProblem(newProblem : Boolean ?= false)

# Legacy
GET	    /codecheck/files						controllers.Files.filesHTML(repo: String ?= "ext", problem: String, level: String ?= "1", ccu: String ?= null)
GET		/codecheck/files/:problem				controllers.Files.filesHTML(repo: String ?= "ext", problem: String, level: String ?= "1", ccu: String ?= null)
GET		/codecheck/files/:problem/:level		controllers.Files.filesHTML(repo: String ?= "ext", problem: String, level: String, ccu: String ?= null)
POST	/codecheck/check						controllers.Check.checkHTML()